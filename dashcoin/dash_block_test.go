package dashcoin

import (
	"bytes"
	"encoding/hex"
	"fmt"
	"io"
	"testing"
)

func TestBlock(t *testing.T) {
	blockBytes, _ := hex.DecodeString("00000020eb7ed59d7351bde86d65ae8a4466d760f7c2d43bf45ec7a0d5d9c9946b46667d642bac890402650ec3fb0bf65d27392f4a303628b915246458893a9119d0606917a3c05fffff7f200eb6b5351503000500010000000000000000000000000000000000000000000000000000000000000000ffffffff1f0222070414a3c05f08f8000001010000000d2f7374726174756d506f6f6c2f00000000013ca93d4e040000001976a914521dbb202daf1dec4d36181479508513d10d4cd088ac00000000460200220700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000016cd46944b37d066633709b806a35a7defef77a46ab362a3f0adc759ba18b37ef000000004847304402200f207d06979d2708e63df23796f84153d3e78af767cb14b7e0564772f7cb0eb002204d604c71db09c87a1f2992e8becd271a4cba939e0c987b6ff222fac7c7e9bc6d01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a040b57b2794b5366380893673600479200f1e2288ac210700000200000001140cbbbd828d367be80bca876c534b1d91802e023813bf7fb55c3a25751cdcc3000000004847304402201fa18b339a009544f293b83e8a53730bc1e29ad7fe3980f6dfca6827d6f8fabb02207342760dc419c04ea7d9c4d8d6da63c596cfb89e79c5da49e6c23249f1c2ac8a01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914180cec2ec5da4cd9033e3827b103ef3871a6611488ac210700000200000001c288945f1d1859fffb5c8c3538847c2894f5a68ef44af1ae6ade4fc259536c9300000000484730440220199c43a8aea80cb62d0457f601bdb21c62b17c8616e0e791f18b2ef239ea60010220619600c383ade3a8783dfd42e17abe655eaab1579399c43e2d7109edc3190bcb01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91489ac61c92ec35b205cf479eb4a90c783c90a3e0688ac0a0700000200000001b90b7319d9b1a673aeb13a46a97a6d966b9abff4c458be5f9276a68d2715132200000000484730440220690c97e5df17ba3c2aa10f00a457b3ef017c0c0ef0a48838be3a67dee1458d70022024dd63e68fbd6d69ff6e522fdb204eca10113388ae0717c15ca80e7db1c0a34301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146dea8a6c88fa520321f33c7dc0c890c8a3b92f7c88ac210700000200000001f442a520df71e66c9a37595bab8d29269d9a54517a524fdfebe694d88deadb22000000004847304402203348a7f97857fa3298062b97e7edc783858314711c6fbe954d31c7fd582538c60220164c2bc4c4ed14cf20a9c72c50bac6e00b4de67845ccb26f4ba3649b96b8273e01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914f57f7bd17a3d6351daab29b6f432db865c928e0b88ac210700000200000001f17aee856f3e4d615137dc81354327beece4b1c0a39255781614010eb95a02c40000000048473044022060ef84fe079edd779f29171089ba7863cac0c71c8680bc7442ee24ca63f0b51c0220356b212938a0e46c1d5dff920925487cdc07ded17e614ac46f9575313e18c21301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a175d64bf4c3ec97d8fe236f05065a6f52f7c8db88ac21070000020000000156d0702eb3ffec5100250c44f48b5dc8b7384a9fb3bf31aca294b5e012b05911000000004847304402206ddfc43d2c52c76258518974d19c90ca1c29c519abfcc33591b18528587e3a6d02200d3302a712bb9ccb4599db8b15c6118601ffa34f9cc32e09e1217349d05ed63401feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914ad9a9839d2ed9a29f19a5cde877357fb64eed9d988ac210700000200000001683d1e1c5344e9ba50024f6fd39e4d93fc1bb366c550eb433a91c99d08c114cf0000000048473044022023369cda23783d924f16d3d40d2870e4b068d186f402253453a50a0f62ebe5d8022074a3afe125b76cacb83df50659892038c18f6768857296c109a31e919ae9aced01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91437372c2703fb165177f5bfcd3f07dcf420a349c588ac210700000200000001c659e51ce3d211838d3b67ca06d24ce3583f879b86f1c911eefea1e50530333a0000000048473044022045deefcced2e9c8282ce26a282c6d80c990aeacd55caf72a73f33c4a3d461b9e022040840bcee5401f2b156aa963a8165da4a7fa08088f10604ec8e392c6be3b7ae501feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9143cda46b47ff27655d0d5b0b8bb9c9260b451314088ac2107000002000000012a0de2e6a6c29a323838856ce6da29278b95f07a9a7754c531bb2a65287e4a3a00000000484730440220214cec2ae09e877b772edc1f3a4996f1ec890f0afa3bed520e6f021df6552010022059ace76f247ad8b568bfbc6030b8fd224ec6cf9758ea395cd788a980edb0cb7701feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146e5599b6296bcd0aaa27b2ce6c29715731b4efe088ac210700000200000001b7ea2b4a4c656dee542cd6921e5e9c92800f646ebb10a369a962e734dcda87d9000000004847304402203c317dc686eee13081f9ae90638eade27d19f16da561320c81ab82fea24be0cf02203b8429b7a1074c561dfe3a52c21f516d0ba5ef890e761f4afb6b3a4d6abd72a001feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914594b177b8fc1583fceaa9902f4477a8b4a064fda88ac100700000200000001be075432069454824de2a38e0cd31b6cf207d22db45105beec5518410dfa8cbc0000000049483045022100cddffb1b1c2618bf31ecec489ff5c522bb3ace24da509ef8fe69940d2b0750c4022007bdcfaca854348cd09a4507b18f2cadd596bf1928da9407a2337802db97763c01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9142c9966415a6392041d9924e77c476448267a2c1088ac21070000020000000145dbf117448312c754d930817d5de1033280c2a3cc9d9b468b5ae9d3ef772ec3000000004948304502210083232265a00c0a96a0c4c70916e2f6833764b70ff5123e54d8aac405056d3520022063c3005e3cdcf19b52ed4feb4fef80035bddb811a6d9b737aaa025049b637ac801feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91492fe2558b3f06c7088db6acbbfe6e59081a7c0fd88ac2107000002000000017e7058982ac2ea3a39ded84bec6b169d48f715ede0d0507318c74128d64794760000000049483045022100e08f460c51725a13bcbeb27b9d8d5530a143a1a4a4073a3313bf841a21b4be7a02203a54d277481895f9952b6de9d87bfce8f3bce8a404ac2e3cadb004f2b9abd91301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9141aafe532d2f6bc8de5b6fb171a198be9b1ced4eb88ac21070000020000000107603ffeef8b8991d1374f95923d972140459b3c76f6367ed39f6108a5f774920000000049483045022100bb9e43f4fb4442abef3ddc834ac059d258d18be1bcfca4b4d29ca1553ef5742102201778ff5e16073f1c7d1d1e37cae2c0e30e62403c0f487ab44aee057fa361fffa01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a0cafeea769c6071752195f08b0784b6bd4475ed88ac210700000200000001681b9d5ccf1eb482f5547deb9a25a73fb82025d97ae58645dd3b4e108a78b52c0000000049483045022100ef46539266be8d1b3430a2ba12c33281a3d0798c319be2d5d937039b8b48d787022045ba1feb89a38254e2b8a98f85d78b5cad8d8b203b61fb902a16fc19f49b940301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91460daadece1e5458e4c56bc4d36b42cd71d398bec88ac210700000200000001fcefd88a7adde6e8401af3f1d59248f24e9d999fb7ddf3c0b22fc835354892790000000049483045022100dff722f089d0e983c76e13525c23f176eeb2aba227d6c6affa59b4df24ed290b02202d07dbf128d318e0b1748e3330f9020973997f5c44870b48728c1a375478c09201feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914adf5b7df61484df3fc6d80a9069a778b556c5a7b88ac2107000002000000018462d43448cfcb9b83c1381722256c8137d65794e977108e4ec302b910c310760000000049483045022100f95d27c63ea43a4e58d88bca14e578b4b1463d2af922e4a3ecbb006fa6ee1909022040793906c6f24ab591f6e9bb46388b3d77e1e57819bf0c7bf8f31e9437f91ef601feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146bd8e109e38acfb591a37e04afdc9c62079b1b3b88ac2107000002000000018aaa0143a8fea0080b66ddde8a33e62c8a3a758fa47bdfc02edfe1ce77165fc50000000049483045022100d2068632ecfe7d60c0858d2b17f539a6dcc13ac2403596fb9ba4588ebb94508302205c0f7ad73fe89e78a625dc44fb1f6a3b306fca54487118ab65b2757c9c4b6a1901feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91459e8b16826f9620b0d7c76472597ec4b6bdae2e688ac21070000020000000162efef444f3f41b360cc49628195de84bd56ed3d7b17ba7a97ef536da63827d00000000049483045022100a1b34969641020e4413a20b4aa1a24b6aa683aabf002635bd5c06406c7e986a502200082f87f0ee62022d90101c6588178e88389c4e75684b3c3605c970c9fde40b101feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146081d6cbee5f18bb120e42871b376c52a80b294f88ac21070000")
	fmt.Println("block bytes:", blockBytes)

	bytesBuf := bytes.NewBuffer(blockBytes)
	bufReader := io.Reader(bytesBuf)
	block := new(Block)
	_ = block.UnPack(bufReader)
	fmt.Println("block version:", block.Header.Version)
	fmt.Println("block time:", block.Header.Time)
	fmt.Println("block bits:", block.Header.Bits)
	fmt.Println("block nonce:", block.Header.Nonce)
	fmt.Println("trx count:", len(block.Vtx))

	bytesBuf = bytes.NewBuffer([]byte{})
	bufWriter := io.Writer(bytesBuf)
	_ = block.Pack(bufWriter)
	fmt.Println("byte buffer:", bytesBuf.Bytes())
}

func TestBlockHex(t *testing.T) {
	block := new(Block)
	_ = block.UnPackFromHex("00000020eb7ed59d7351bde86d65ae8a4466d760f7c2d43bf45ec7a0d5d9c9946b46667d642bac890402650ec3fb0bf65d27392f4a303628b915246458893a9119d0606917a3c05fffff7f200eb6b5351503000500010000000000000000000000000000000000000000000000000000000000000000ffffffff1f0222070414a3c05f08f8000001010000000d2f7374726174756d506f6f6c2f00000000013ca93d4e040000001976a914521dbb202daf1dec4d36181479508513d10d4cd088ac00000000460200220700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000016cd46944b37d066633709b806a35a7defef77a46ab362a3f0adc759ba18b37ef000000004847304402200f207d06979d2708e63df23796f84153d3e78af767cb14b7e0564772f7cb0eb002204d604c71db09c87a1f2992e8becd271a4cba939e0c987b6ff222fac7c7e9bc6d01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a040b57b2794b5366380893673600479200f1e2288ac210700000200000001140cbbbd828d367be80bca876c534b1d91802e023813bf7fb55c3a25751cdcc3000000004847304402201fa18b339a009544f293b83e8a53730bc1e29ad7fe3980f6dfca6827d6f8fabb02207342760dc419c04ea7d9c4d8d6da63c596cfb89e79c5da49e6c23249f1c2ac8a01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914180cec2ec5da4cd9033e3827b103ef3871a6611488ac210700000200000001c288945f1d1859fffb5c8c3538847c2894f5a68ef44af1ae6ade4fc259536c9300000000484730440220199c43a8aea80cb62d0457f601bdb21c62b17c8616e0e791f18b2ef239ea60010220619600c383ade3a8783dfd42e17abe655eaab1579399c43e2d7109edc3190bcb01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91489ac61c92ec35b205cf479eb4a90c783c90a3e0688ac0a0700000200000001b90b7319d9b1a673aeb13a46a97a6d966b9abff4c458be5f9276a68d2715132200000000484730440220690c97e5df17ba3c2aa10f00a457b3ef017c0c0ef0a48838be3a67dee1458d70022024dd63e68fbd6d69ff6e522fdb204eca10113388ae0717c15ca80e7db1c0a34301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146dea8a6c88fa520321f33c7dc0c890c8a3b92f7c88ac210700000200000001f442a520df71e66c9a37595bab8d29269d9a54517a524fdfebe694d88deadb22000000004847304402203348a7f97857fa3298062b97e7edc783858314711c6fbe954d31c7fd582538c60220164c2bc4c4ed14cf20a9c72c50bac6e00b4de67845ccb26f4ba3649b96b8273e01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914f57f7bd17a3d6351daab29b6f432db865c928e0b88ac210700000200000001f17aee856f3e4d615137dc81354327beece4b1c0a39255781614010eb95a02c40000000048473044022060ef84fe079edd779f29171089ba7863cac0c71c8680bc7442ee24ca63f0b51c0220356b212938a0e46c1d5dff920925487cdc07ded17e614ac46f9575313e18c21301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a175d64bf4c3ec97d8fe236f05065a6f52f7c8db88ac21070000020000000156d0702eb3ffec5100250c44f48b5dc8b7384a9fb3bf31aca294b5e012b05911000000004847304402206ddfc43d2c52c76258518974d19c90ca1c29c519abfcc33591b18528587e3a6d02200d3302a712bb9ccb4599db8b15c6118601ffa34f9cc32e09e1217349d05ed63401feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914ad9a9839d2ed9a29f19a5cde877357fb64eed9d988ac210700000200000001683d1e1c5344e9ba50024f6fd39e4d93fc1bb366c550eb433a91c99d08c114cf0000000048473044022023369cda23783d924f16d3d40d2870e4b068d186f402253453a50a0f62ebe5d8022074a3afe125b76cacb83df50659892038c18f6768857296c109a31e919ae9aced01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91437372c2703fb165177f5bfcd3f07dcf420a349c588ac210700000200000001c659e51ce3d211838d3b67ca06d24ce3583f879b86f1c911eefea1e50530333a0000000048473044022045deefcced2e9c8282ce26a282c6d80c990aeacd55caf72a73f33c4a3d461b9e022040840bcee5401f2b156aa963a8165da4a7fa08088f10604ec8e392c6be3b7ae501feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9143cda46b47ff27655d0d5b0b8bb9c9260b451314088ac2107000002000000012a0de2e6a6c29a323838856ce6da29278b95f07a9a7754c531bb2a65287e4a3a00000000484730440220214cec2ae09e877b772edc1f3a4996f1ec890f0afa3bed520e6f021df6552010022059ace76f247ad8b568bfbc6030b8fd224ec6cf9758ea395cd788a980edb0cb7701feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146e5599b6296bcd0aaa27b2ce6c29715731b4efe088ac210700000200000001b7ea2b4a4c656dee542cd6921e5e9c92800f646ebb10a369a962e734dcda87d9000000004847304402203c317dc686eee13081f9ae90638eade27d19f16da561320c81ab82fea24be0cf02203b8429b7a1074c561dfe3a52c21f516d0ba5ef890e761f4afb6b3a4d6abd72a001feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914594b177b8fc1583fceaa9902f4477a8b4a064fda88ac100700000200000001be075432069454824de2a38e0cd31b6cf207d22db45105beec5518410dfa8cbc0000000049483045022100cddffb1b1c2618bf31ecec489ff5c522bb3ace24da509ef8fe69940d2b0750c4022007bdcfaca854348cd09a4507b18f2cadd596bf1928da9407a2337802db97763c01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9142c9966415a6392041d9924e77c476448267a2c1088ac21070000020000000145dbf117448312c754d930817d5de1033280c2a3cc9d9b468b5ae9d3ef772ec3000000004948304502210083232265a00c0a96a0c4c70916e2f6833764b70ff5123e54d8aac405056d3520022063c3005e3cdcf19b52ed4feb4fef80035bddb811a6d9b737aaa025049b637ac801feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91492fe2558b3f06c7088db6acbbfe6e59081a7c0fd88ac2107000002000000017e7058982ac2ea3a39ded84bec6b169d48f715ede0d0507318c74128d64794760000000049483045022100e08f460c51725a13bcbeb27b9d8d5530a143a1a4a4073a3313bf841a21b4be7a02203a54d277481895f9952b6de9d87bfce8f3bce8a404ac2e3cadb004f2b9abd91301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9141aafe532d2f6bc8de5b6fb171a198be9b1ced4eb88ac21070000020000000107603ffeef8b8991d1374f95923d972140459b3c76f6367ed39f6108a5f774920000000049483045022100bb9e43f4fb4442abef3ddc834ac059d258d18be1bcfca4b4d29ca1553ef5742102201778ff5e16073f1c7d1d1e37cae2c0e30e62403c0f487ab44aee057fa361fffa01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a0cafeea769c6071752195f08b0784b6bd4475ed88ac210700000200000001681b9d5ccf1eb482f5547deb9a25a73fb82025d97ae58645dd3b4e108a78b52c0000000049483045022100ef46539266be8d1b3430a2ba12c33281a3d0798c319be2d5d937039b8b48d787022045ba1feb89a38254e2b8a98f85d78b5cad8d8b203b61fb902a16fc19f49b940301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91460daadece1e5458e4c56bc4d36b42cd71d398bec88ac210700000200000001fcefd88a7adde6e8401af3f1d59248f24e9d999fb7ddf3c0b22fc835354892790000000049483045022100dff722f089d0e983c76e13525c23f176eeb2aba227d6c6affa59b4df24ed290b02202d07dbf128d318e0b1748e3330f9020973997f5c44870b48728c1a375478c09201feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914adf5b7df61484df3fc6d80a9069a778b556c5a7b88ac2107000002000000018462d43448cfcb9b83c1381722256c8137d65794e977108e4ec302b910c310760000000049483045022100f95d27c63ea43a4e58d88bca14e578b4b1463d2af922e4a3ecbb006fa6ee1909022040793906c6f24ab591f6e9bb46388b3d77e1e57819bf0c7bf8f31e9437f91ef601feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146bd8e109e38acfb591a37e04afdc9c62079b1b3b88ac2107000002000000018aaa0143a8fea0080b66ddde8a33e62c8a3a758fa47bdfc02edfe1ce77165fc50000000049483045022100d2068632ecfe7d60c0858d2b17f539a6dcc13ac2403596fb9ba4588ebb94508302205c0f7ad73fe89e78a625dc44fb1f6a3b306fca54487118ab65b2757c9c4b6a1901feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91459e8b16826f9620b0d7c76472597ec4b6bdae2e688ac21070000020000000162efef444f3f41b360cc49628195de84bd56ed3d7b17ba7a97ef536da63827d00000000049483045022100a1b34969641020e4413a20b4aa1a24b6aa683aabf002635bd5c06406c7e986a502200082f87f0ee62022d90101c6588178e88389c4e75684b3c3605c970c9fde40b101feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146081d6cbee5f18bb120e42871b376c52a80b294f88ac21070000")
	fmt.Println("block version:", block.Header.Version)
	fmt.Println("block time:", block.Header.Time)
	fmt.Println("block bits:", block.Header.Bits)
	fmt.Println("block nonce:", block.Header.Nonce)
	fmt.Println("trx count:", len(block.Vtx))

	hexStr, _ := block.PackToHex()
	fmt.Println("hex string:", hexStr)
}

func BenchmarkBlock(b *testing.B) {
	for i := 0; i < b.N; i++ {
		blockBytes, _ := hex.DecodeString("00000020eb7ed59d7351bde86d65ae8a4466d760f7c2d43bf45ec7a0d5d9c9946b46667d642bac890402650ec3fb0bf65d27392f4a303628b915246458893a9119d0606917a3c05fffff7f200eb6b5351503000500010000000000000000000000000000000000000000000000000000000000000000ffffffff1f0222070414a3c05f08f8000001010000000d2f7374726174756d506f6f6c2f00000000013ca93d4e040000001976a914521dbb202daf1dec4d36181479508513d10d4cd088ac00000000460200220700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000016cd46944b37d066633709b806a35a7defef77a46ab362a3f0adc759ba18b37ef000000004847304402200f207d06979d2708e63df23796f84153d3e78af767cb14b7e0564772f7cb0eb002204d604c71db09c87a1f2992e8becd271a4cba939e0c987b6ff222fac7c7e9bc6d01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a040b57b2794b5366380893673600479200f1e2288ac210700000200000001140cbbbd828d367be80bca876c534b1d91802e023813bf7fb55c3a25751cdcc3000000004847304402201fa18b339a009544f293b83e8a53730bc1e29ad7fe3980f6dfca6827d6f8fabb02207342760dc419c04ea7d9c4d8d6da63c596cfb89e79c5da49e6c23249f1c2ac8a01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914180cec2ec5da4cd9033e3827b103ef3871a6611488ac210700000200000001c288945f1d1859fffb5c8c3538847c2894f5a68ef44af1ae6ade4fc259536c9300000000484730440220199c43a8aea80cb62d0457f601bdb21c62b17c8616e0e791f18b2ef239ea60010220619600c383ade3a8783dfd42e17abe655eaab1579399c43e2d7109edc3190bcb01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91489ac61c92ec35b205cf479eb4a90c783c90a3e0688ac0a0700000200000001b90b7319d9b1a673aeb13a46a97a6d966b9abff4c458be5f9276a68d2715132200000000484730440220690c97e5df17ba3c2aa10f00a457b3ef017c0c0ef0a48838be3a67dee1458d70022024dd63e68fbd6d69ff6e522fdb204eca10113388ae0717c15ca80e7db1c0a34301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146dea8a6c88fa520321f33c7dc0c890c8a3b92f7c88ac210700000200000001f442a520df71e66c9a37595bab8d29269d9a54517a524fdfebe694d88deadb22000000004847304402203348a7f97857fa3298062b97e7edc783858314711c6fbe954d31c7fd582538c60220164c2bc4c4ed14cf20a9c72c50bac6e00b4de67845ccb26f4ba3649b96b8273e01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914f57f7bd17a3d6351daab29b6f432db865c928e0b88ac210700000200000001f17aee856f3e4d615137dc81354327beece4b1c0a39255781614010eb95a02c40000000048473044022060ef84fe079edd779f29171089ba7863cac0c71c8680bc7442ee24ca63f0b51c0220356b212938a0e46c1d5dff920925487cdc07ded17e614ac46f9575313e18c21301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a175d64bf4c3ec97d8fe236f05065a6f52f7c8db88ac21070000020000000156d0702eb3ffec5100250c44f48b5dc8b7384a9fb3bf31aca294b5e012b05911000000004847304402206ddfc43d2c52c76258518974d19c90ca1c29c519abfcc33591b18528587e3a6d02200d3302a712bb9ccb4599db8b15c6118601ffa34f9cc32e09e1217349d05ed63401feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914ad9a9839d2ed9a29f19a5cde877357fb64eed9d988ac210700000200000001683d1e1c5344e9ba50024f6fd39e4d93fc1bb366c550eb433a91c99d08c114cf0000000048473044022023369cda23783d924f16d3d40d2870e4b068d186f402253453a50a0f62ebe5d8022074a3afe125b76cacb83df50659892038c18f6768857296c109a31e919ae9aced01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91437372c2703fb165177f5bfcd3f07dcf420a349c588ac210700000200000001c659e51ce3d211838d3b67ca06d24ce3583f879b86f1c911eefea1e50530333a0000000048473044022045deefcced2e9c8282ce26a282c6d80c990aeacd55caf72a73f33c4a3d461b9e022040840bcee5401f2b156aa963a8165da4a7fa08088f10604ec8e392c6be3b7ae501feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9143cda46b47ff27655d0d5b0b8bb9c9260b451314088ac2107000002000000012a0de2e6a6c29a323838856ce6da29278b95f07a9a7754c531bb2a65287e4a3a00000000484730440220214cec2ae09e877b772edc1f3a4996f1ec890f0afa3bed520e6f021df6552010022059ace76f247ad8b568bfbc6030b8fd224ec6cf9758ea395cd788a980edb0cb7701feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146e5599b6296bcd0aaa27b2ce6c29715731b4efe088ac210700000200000001b7ea2b4a4c656dee542cd6921e5e9c92800f646ebb10a369a962e734dcda87d9000000004847304402203c317dc686eee13081f9ae90638eade27d19f16da561320c81ab82fea24be0cf02203b8429b7a1074c561dfe3a52c21f516d0ba5ef890e761f4afb6b3a4d6abd72a001feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914594b177b8fc1583fceaa9902f4477a8b4a064fda88ac100700000200000001be075432069454824de2a38e0cd31b6cf207d22db45105beec5518410dfa8cbc0000000049483045022100cddffb1b1c2618bf31ecec489ff5c522bb3ace24da509ef8fe69940d2b0750c4022007bdcfaca854348cd09a4507b18f2cadd596bf1928da9407a2337802db97763c01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9142c9966415a6392041d9924e77c476448267a2c1088ac21070000020000000145dbf117448312c754d930817d5de1033280c2a3cc9d9b468b5ae9d3ef772ec3000000004948304502210083232265a00c0a96a0c4c70916e2f6833764b70ff5123e54d8aac405056d3520022063c3005e3cdcf19b52ed4feb4fef80035bddb811a6d9b737aaa025049b637ac801feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91492fe2558b3f06c7088db6acbbfe6e59081a7c0fd88ac2107000002000000017e7058982ac2ea3a39ded84bec6b169d48f715ede0d0507318c74128d64794760000000049483045022100e08f460c51725a13bcbeb27b9d8d5530a143a1a4a4073a3313bf841a21b4be7a02203a54d277481895f9952b6de9d87bfce8f3bce8a404ac2e3cadb004f2b9abd91301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9141aafe532d2f6bc8de5b6fb171a198be9b1ced4eb88ac21070000020000000107603ffeef8b8991d1374f95923d972140459b3c76f6367ed39f6108a5f774920000000049483045022100bb9e43f4fb4442abef3ddc834ac059d258d18be1bcfca4b4d29ca1553ef5742102201778ff5e16073f1c7d1d1e37cae2c0e30e62403c0f487ab44aee057fa361fffa01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a0cafeea769c6071752195f08b0784b6bd4475ed88ac210700000200000001681b9d5ccf1eb482f5547deb9a25a73fb82025d97ae58645dd3b4e108a78b52c0000000049483045022100ef46539266be8d1b3430a2ba12c33281a3d0798c319be2d5d937039b8b48d787022045ba1feb89a38254e2b8a98f85d78b5cad8d8b203b61fb902a16fc19f49b940301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91460daadece1e5458e4c56bc4d36b42cd71d398bec88ac210700000200000001fcefd88a7adde6e8401af3f1d59248f24e9d999fb7ddf3c0b22fc835354892790000000049483045022100dff722f089d0e983c76e13525c23f176eeb2aba227d6c6affa59b4df24ed290b02202d07dbf128d318e0b1748e3330f9020973997f5c44870b48728c1a375478c09201feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914adf5b7df61484df3fc6d80a9069a778b556c5a7b88ac2107000002000000018462d43448cfcb9b83c1381722256c8137d65794e977108e4ec302b910c310760000000049483045022100f95d27c63ea43a4e58d88bca14e578b4b1463d2af922e4a3ecbb006fa6ee1909022040793906c6f24ab591f6e9bb46388b3d77e1e57819bf0c7bf8f31e9437f91ef601feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146bd8e109e38acfb591a37e04afdc9c62079b1b3b88ac2107000002000000018aaa0143a8fea0080b66ddde8a33e62c8a3a758fa47bdfc02edfe1ce77165fc50000000049483045022100d2068632ecfe7d60c0858d2b17f539a6dcc13ac2403596fb9ba4588ebb94508302205c0f7ad73fe89e78a625dc44fb1f6a3b306fca54487118ab65b2757c9c4b6a1901feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91459e8b16826f9620b0d7c76472597ec4b6bdae2e688ac21070000020000000162efef444f3f41b360cc49628195de84bd56ed3d7b17ba7a97ef536da63827d00000000049483045022100a1b34969641020e4413a20b4aa1a24b6aa683aabf002635bd5c06406c7e986a502200082f87f0ee62022d90101c6588178e88389c4e75684b3c3605c970c9fde40b101feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146081d6cbee5f18bb120e42871b376c52a80b294f88ac21070000")
		bytesBuf := bytes.NewBuffer(blockBytes)
		bufReader := io.Reader(bytesBuf)
		block := new(Block)
		_ = block.UnPack(bufReader)

		bytesBuf = bytes.NewBuffer([]byte{})
		bufWriter := io.Writer(bytesBuf)
		_ = block.Pack(bufWriter)
	}
}

func BenchmarkBlockHex(b *testing.B) {
	for i := 0; i < b.N; i++ {
		block := new(Block)
		_ = block.UnPackFromHex("00000020eb7ed59d7351bde86d65ae8a4466d760f7c2d43bf45ec7a0d5d9c9946b46667d642bac890402650ec3fb0bf65d27392f4a303628b915246458893a9119d0606917a3c05fffff7f200eb6b5351503000500010000000000000000000000000000000000000000000000000000000000000000ffffffff1f0222070414a3c05f08f8000001010000000d2f7374726174756d506f6f6c2f00000000013ca93d4e040000001976a914521dbb202daf1dec4d36181479508513d10d4cd088ac00000000460200220700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000016cd46944b37d066633709b806a35a7defef77a46ab362a3f0adc759ba18b37ef000000004847304402200f207d06979d2708e63df23796f84153d3e78af767cb14b7e0564772f7cb0eb002204d604c71db09c87a1f2992e8becd271a4cba939e0c987b6ff222fac7c7e9bc6d01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a040b57b2794b5366380893673600479200f1e2288ac210700000200000001140cbbbd828d367be80bca876c534b1d91802e023813bf7fb55c3a25751cdcc3000000004847304402201fa18b339a009544f293b83e8a53730bc1e29ad7fe3980f6dfca6827d6f8fabb02207342760dc419c04ea7d9c4d8d6da63c596cfb89e79c5da49e6c23249f1c2ac8a01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914180cec2ec5da4cd9033e3827b103ef3871a6611488ac210700000200000001c288945f1d1859fffb5c8c3538847c2894f5a68ef44af1ae6ade4fc259536c9300000000484730440220199c43a8aea80cb62d0457f601bdb21c62b17c8616e0e791f18b2ef239ea60010220619600c383ade3a8783dfd42e17abe655eaab1579399c43e2d7109edc3190bcb01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91489ac61c92ec35b205cf479eb4a90c783c90a3e0688ac0a0700000200000001b90b7319d9b1a673aeb13a46a97a6d966b9abff4c458be5f9276a68d2715132200000000484730440220690c97e5df17ba3c2aa10f00a457b3ef017c0c0ef0a48838be3a67dee1458d70022024dd63e68fbd6d69ff6e522fdb204eca10113388ae0717c15ca80e7db1c0a34301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146dea8a6c88fa520321f33c7dc0c890c8a3b92f7c88ac210700000200000001f442a520df71e66c9a37595bab8d29269d9a54517a524fdfebe694d88deadb22000000004847304402203348a7f97857fa3298062b97e7edc783858314711c6fbe954d31c7fd582538c60220164c2bc4c4ed14cf20a9c72c50bac6e00b4de67845ccb26f4ba3649b96b8273e01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914f57f7bd17a3d6351daab29b6f432db865c928e0b88ac210700000200000001f17aee856f3e4d615137dc81354327beece4b1c0a39255781614010eb95a02c40000000048473044022060ef84fe079edd779f29171089ba7863cac0c71c8680bc7442ee24ca63f0b51c0220356b212938a0e46c1d5dff920925487cdc07ded17e614ac46f9575313e18c21301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a175d64bf4c3ec97d8fe236f05065a6f52f7c8db88ac21070000020000000156d0702eb3ffec5100250c44f48b5dc8b7384a9fb3bf31aca294b5e012b05911000000004847304402206ddfc43d2c52c76258518974d19c90ca1c29c519abfcc33591b18528587e3a6d02200d3302a712bb9ccb4599db8b15c6118601ffa34f9cc32e09e1217349d05ed63401feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914ad9a9839d2ed9a29f19a5cde877357fb64eed9d988ac210700000200000001683d1e1c5344e9ba50024f6fd39e4d93fc1bb366c550eb433a91c99d08c114cf0000000048473044022023369cda23783d924f16d3d40d2870e4b068d186f402253453a50a0f62ebe5d8022074a3afe125b76cacb83df50659892038c18f6768857296c109a31e919ae9aced01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91437372c2703fb165177f5bfcd3f07dcf420a349c588ac210700000200000001c659e51ce3d211838d3b67ca06d24ce3583f879b86f1c911eefea1e50530333a0000000048473044022045deefcced2e9c8282ce26a282c6d80c990aeacd55caf72a73f33c4a3d461b9e022040840bcee5401f2b156aa963a8165da4a7fa08088f10604ec8e392c6be3b7ae501feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9143cda46b47ff27655d0d5b0b8bb9c9260b451314088ac2107000002000000012a0de2e6a6c29a323838856ce6da29278b95f07a9a7754c531bb2a65287e4a3a00000000484730440220214cec2ae09e877b772edc1f3a4996f1ec890f0afa3bed520e6f021df6552010022059ace76f247ad8b568bfbc6030b8fd224ec6cf9758ea395cd788a980edb0cb7701feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146e5599b6296bcd0aaa27b2ce6c29715731b4efe088ac210700000200000001b7ea2b4a4c656dee542cd6921e5e9c92800f646ebb10a369a962e734dcda87d9000000004847304402203c317dc686eee13081f9ae90638eade27d19f16da561320c81ab82fea24be0cf02203b8429b7a1074c561dfe3a52c21f516d0ba5ef890e761f4afb6b3a4d6abd72a001feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914594b177b8fc1583fceaa9902f4477a8b4a064fda88ac100700000200000001be075432069454824de2a38e0cd31b6cf207d22db45105beec5518410dfa8cbc0000000049483045022100cddffb1b1c2618bf31ecec489ff5c522bb3ace24da509ef8fe69940d2b0750c4022007bdcfaca854348cd09a4507b18f2cadd596bf1928da9407a2337802db97763c01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9142c9966415a6392041d9924e77c476448267a2c1088ac21070000020000000145dbf117448312c754d930817d5de1033280c2a3cc9d9b468b5ae9d3ef772ec3000000004948304502210083232265a00c0a96a0c4c70916e2f6833764b70ff5123e54d8aac405056d3520022063c3005e3cdcf19b52ed4feb4fef80035bddb811a6d9b737aaa025049b637ac801feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91492fe2558b3f06c7088db6acbbfe6e59081a7c0fd88ac2107000002000000017e7058982ac2ea3a39ded84bec6b169d48f715ede0d0507318c74128d64794760000000049483045022100e08f460c51725a13bcbeb27b9d8d5530a143a1a4a4073a3313bf841a21b4be7a02203a54d277481895f9952b6de9d87bfce8f3bce8a404ac2e3cadb004f2b9abd91301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9141aafe532d2f6bc8de5b6fb171a198be9b1ced4eb88ac21070000020000000107603ffeef8b8991d1374f95923d972140459b3c76f6367ed39f6108a5f774920000000049483045022100bb9e43f4fb4442abef3ddc834ac059d258d18be1bcfca4b4d29ca1553ef5742102201778ff5e16073f1c7d1d1e37cae2c0e30e62403c0f487ab44aee057fa361fffa01feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914a0cafeea769c6071752195f08b0784b6bd4475ed88ac210700000200000001681b9d5ccf1eb482f5547deb9a25a73fb82025d97ae58645dd3b4e108a78b52c0000000049483045022100ef46539266be8d1b3430a2ba12c33281a3d0798c319be2d5d937039b8b48d787022045ba1feb89a38254e2b8a98f85d78b5cad8d8b203b61fb902a16fc19f49b940301feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91460daadece1e5458e4c56bc4d36b42cd71d398bec88ac210700000200000001fcefd88a7adde6e8401af3f1d59248f24e9d999fb7ddf3c0b22fc835354892790000000049483045022100dff722f089d0e983c76e13525c23f176eeb2aba227d6c6affa59b4df24ed290b02202d07dbf128d318e0b1748e3330f9020973997f5c44870b48728c1a375478c09201feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a914adf5b7df61484df3fc6d80a9069a778b556c5a7b88ac2107000002000000018462d43448cfcb9b83c1381722256c8137d65794e977108e4ec302b910c310760000000049483045022100f95d27c63ea43a4e58d88bca14e578b4b1463d2af922e4a3ecbb006fa6ee1909022040793906c6f24ab591f6e9bb46388b3d77e1e57819bf0c7bf8f31e9437f91ef601feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146bd8e109e38acfb591a37e04afdc9c62079b1b3b88ac2107000002000000018aaa0143a8fea0080b66ddde8a33e62c8a3a758fa47bdfc02edfe1ce77165fc50000000049483045022100d2068632ecfe7d60c0858d2b17f539a6dcc13ac2403596fb9ba4588ebb94508302205c0f7ad73fe89e78a625dc44fb1f6a3b306fca54487118ab65b2757c9c4b6a1901feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a91459e8b16826f9620b0d7c76472597ec4b6bdae2e688ac21070000020000000162efef444f3f41b360cc49628195de84bd56ed3d7b17ba7a97ef536da63827d00000000049483045022100a1b34969641020e4413a20b4aa1a24b6aa683aabf002635bd5c06406c7e986a502200082f87f0ee62022d90101c6588178e88389c4e75684b3c3605c970c9fde40b101feffffff02a067f705000000001976a9140ebcf4700f19ea65314401981969bd344009a2d788ac42db0f9d040000001976a9146081d6cbee5f18bb120e42871b376c52a80b294f88ac21070000")
		_, _ = block.PackToHex()
	}
}
